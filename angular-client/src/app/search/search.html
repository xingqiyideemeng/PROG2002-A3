<app-navbar></app-navbar>

<main class="container">
  <!-- 搜索表单 -->
  <section class="search-section">
    <h2>Find Charity Events</h2>

    <form class="search-form" (ngSubmit)="performSearch()">
      <div class="form-group">
        <label for="category">Event Category:</label>
        <select id="category" [(ngModel)]="filters.category" name="category">
          <option value="all">All Categories</option>
          <option *ngFor="let cat of categories" [value]="cat.name">{{ cat.name }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="city">City or Region:</label>
        <input
          type="text"
          id="city"
          name="city"
          placeholder="Enter city or region..."
          [(ngModel)]="filters.city"
        />
      </div>

      <div class="form-group">
        <label for="date">Event Date:</label>
        <input
          type="date"
          id="date"
          name="date"
          [(ngModel)]="filters.date"
        />
      </div>

      <div class="form-buttons">
        <button type="submit" class="btn-primary">Search Events</button>
        <button type="button" class="btn-secondary" (click)="clearFilters()">Clear Filters</button>
      </div>
    </form>
  </section>

  <!-- 搜索结果 -->
  <section class="results-section">
    <h3>Search Results</h3>

    <div *ngIf="isLoading" class="loading">Loading events...</div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <div class="events-grid" *ngIf="!isLoading && !errorMessage">
      <p *ngIf="events.length === 0">No events found matching your criteria.</p>

      <app-event-card *ngFor="let event of events" [event]="event"></app-event-card>
    </div>
  </section>
</main>
